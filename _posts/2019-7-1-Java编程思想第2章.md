---
layout:     post                    # 使用的布局（不需要改）
title:      Think in Java02                 
subtitle:                           #副标题
date:       2019-07-20               # 时间
author:     Oct                     # 作者
header-img: img/background.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - Java
---
### 第二章 一切都是对象  

**2.1 用引用操纵对象**  
引用和对象的关系，可以看作遥控器和电视的关系。  

**2.2 对象创建**  
对象放哪儿的？  
1.<font color=Aqua>寄存器</font>：最快的存储器，因为就在CPU里边。数量有限，按需分配，无法直接控制。  
2.<font color=Aqua>堆栈</font>：仅次于寄存器，在RAM里。通过堆栈指针的移动分配存储，因此必须知道存储其中各项的生命周期，有灵活性限制。一般存对象引用，Java对象并不存储在这里。  
3.<font color=Aqua>堆</font>：也在RAM里，不同于堆栈，编译器不需要知道数据在堆中的生命周期，因此具有很大灵活性，当然也因此会有处理效率的代价。Java对象存储在这里。  
4.<font color=Aqua>常量存储</font>：通常直接存放在程序代码内部。嵌入式系统中，也可选择放在ROM里。  
5.<font color=Aqua>非RAM存储</font>：数据完全存活于程序之外，程序不运行时它也可以存在。两个基本例子是流对象和持久对象。这种存储的技巧在于：把对象转化成可以存放在其它媒介上的事物，在需要时又可以恢复成常规的，基于RAM存储的对象。  

特例：**基本类型。**  
-因为效率问题，Java和C/C++一样将这些基本类型直接存在*堆栈*里。  
-不同于大多属语言，Java的基本类型所占存储空间的大小是不变的，不会随着硬件架构变化而变化，which提高了Java程序的可移植性。  
-boolean类型没有明确指定所占存储空间的大小。  
-基本类型具有的包装器类，可以在堆中创建一个非基本类型，用来表示对应的基本类型.  
-*BigInteger*和*BigDecimal*。大体属于包装器类，但没有对应的基本类型。但操作相似，可以用于int和float的操作同样可以作用于它们，只不过必须以方法调用替代运算符，变复杂了，降低了速度，是以速度换取了精度。  

Java中的**数组**：  
不同于C/C++，Java确保数组会被初始化，且不会在它的范围之外被访问。这样做是以每个数组上少量的内存开销和运行时的下标检查为代价的，但以此换取了安全和效率(且是可优化的)。  

**2.3 永远不要销毁对象**  
-变量/对象的引用，它们的存在，生命周期仅限于作用域(花括号)内，一出去就消失了。但对象不会消失，仍占据内存空间，只是因为出了作用域而不能访问/引用它了。(之后教授如何传递复制对象引用)  
-so,Java中如何处理这些对象？垃圾回收器，它会监视用new创建的所有对象，辨别它们是否还会被引用，并释放内存空间。  

**2.4 新的数据类型：类**  
-class中有字段&方法。  
-当字段是对象引用时，必须初始化。  
-若某类成员是基本类型时，如果不初始化，Java给它默认值，但这个默认值很可能不是我们需要的。  
-且，这种给默认值的做法只适用于类成员，不适用于局部变量，如果在一个方法中对某变量没进行初始化，它可能会获得任意值。  
-所以结论是，不管什么类型都记得初始化。  


嗯，之后的基础部分跳过了。  
一些标签示例：P67
